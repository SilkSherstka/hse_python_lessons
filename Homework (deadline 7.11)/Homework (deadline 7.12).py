# Вы анализируете данные с датчика, который периодически отправляет целые числа. 
# Вам нужно собирать только чётные положительные числа, пока не будет получен 0 (сигнал остановки).
# Напишите программу, которая в цикле while запрашивает целое число. 
# Используйте list comprehension внутри цикла, чтобы сразу фильтровать ввод: 
# добавлять в итоговый список только те числа, которые являются чётными и положительными. 
# Цикл должен завершиться при вводе числа 0. В конце программа выводит результирующий список и его длину.
# 1. Создаем пустой список numbers 
# 2. Начинаем while
# 3. Запрашиваем список чисел вида '1 2 10 -1'
# 4. split по пробелу
# 5. Фильтруем (list comp.) отрицательные и нецелые
# 6. Обновляем numbers 
# 7. Цикл завершается, если пользователь ввел 0
# 8. В конце выводим numbers

# 1. Создаем пустой список numbers 
numbers = []
# 2. Начинаем while
while True:
    # 3. Запрашиваем список чисел вида '1 2 10 -1'
    numbers_input = input("Введите список целых чисел через пробел: ")
    # 4. split по пробелу
    numbers = numbers_input.split(' ')
    numbers = [int(x) for x in numbers]
    # 7. Цикл завершается, если пользователь ввел 0
    if 0 in numbers:
        break
    # 5. Фильтруем (list comp.) отрицательные и нецелые
    # 6. Обновляем numbers 
    numbers = [number for number in numbers if number > 0 and number % 2 == 0]
# 8. В конце выводим numbers
print(f"Список чисел: {numbers}")


# Задача 1 (Базовое преобразование)
# Дан список celsius = [0, 15, 25, 30, 40, 100]. 
# Создайте новый список fahrenheit с помощью list comprehension, 
# где каждая температура преобразована по формуле: F = C × 9/5 + 32.
celsius = [0, 15, 25, 30, 40, 100]
fahrenheit = [temp * 9/5 + 32 for temp in celsius]
print(fahrenheit)

# Дан список оценок grades = [45, 85, 92, 33, 67, 78, 90, 55, 29, 88]. 
# Создайте новый список passed, содержащий только оценки выше или равные 60, 
# используя list comprehension с условием.

grades = [45, 85, 92, 33, 67, 78, 90, 55, 29, 88]
passed = [grade for grade in grades if grade >= 60]
print(passed)

# Задача 2 (Комбинированное преобразование и фильтрация)
# Вы обрабатываете финансовые транзакции и хотите рассчитать налог только для доходных операций.

# Дан список транзакций 
# transactions = [100, -50, 200, -30, 150, -20, 300] (положительные - доход, отрицательные - расход). 
# Создайте список taxes, содержащий 15% от каждой доходной транзакции (только от положительных значений), 
# используя list comprehension с условием
transactions = [100, -50, 200, -30, 150, -20, 300]
taxes = [0.15 * tr for tr in transactions if tr > 0]
print(taxes)

# Задача 3 (Работа со строками и вложенными циклами)
# Вы генерируете все возможные комбинации товаров и цветов для каталога

# Даны списки products = ['футболка', 'кружка', 'блокнот'] и 
# colors = ['красный', 'синий', 'зеленый']. 
# Создайте список combinations, содержащий все возможные комбинации 
# в формате "товар - цвет", используя вложенные циклы в list comprehension.

products = ['футболка', 'кружка', 'блокнот']
colors = ['красный', 'синий', 'зеленый']
combinations = [(product, color) for product in products for color in colors]
print(combinations)

# Задача 4 (Сложная логика с тернарным оператором)
# Вы обрабатываете данные о сотрудниках и хотите классифицировать их по уровню производительности
# Дан список кортежей 
# employees = [('Иван', 45), ('Мария', 92), ('Петр', 33), ('Анна', 67)], 
# где первый элемент - имя, второй - процент выполнения плана. 
# Создайте список performance, который содержит строки:

# "Отлично" для выполнения ≥ 90%
# "Хорошо" для выполнения ≥ 60%
# "Требует улучшения" для остальных
# Используйте list comprehension с тернарным оператором.

employees = [('Иван', 45), ('Мария', 92), ('Петр', 33), ('Анна', 67)]
performance = [
    (name, score, 
     "Отлично" if score >= 90 else 
     "Хорошо" if score >= 60 else 
     "Требует улучшения")
    for name, score in employees
]
print(performance)

# Задача 5 (Комплексная работа с данными)
# Вы анализируете данные о продажах и хотите получить статистику по успешным менеджерам
# Дан список словарей 
# sales = [ {'name': 'Алексей', 'sales': 150, 'returns': 10}, 
# {'name': 'Ольга', 'sales': 200, 'returns': 5}, 
# {'name': 'Дмитрий', 'sales': 80, 'returns': 25}, 
# {'name': 'Елена', 'sales': 300, 'returns': 8} ]. 
# Создайте список top_managers, содержащий имена менеджеров, у которых чистые продажи 
# (sales - returns) ≥ 150 и процент возвратов (returns/sales × 100) < 10%.

sales = [ {'name': 'Алексей', 'sales': 150, 'returns': 10}, 
{'name': 'Ольга', 'sales': 200, 'returns': 5}, 
{'name': 'Дмитрий', 'sales': 80, 'returns': 25}, 
{'name': 'Елена', 'sales': 300, 'returns': 8} ]

top_managers = [
    manager['name']
    for manager in sales
    if (manager['sales'] - manager['returns'] >= 150)
    and (manager['returns'] / manager['sales'] * 100 < 10)
]

print(top_managers)