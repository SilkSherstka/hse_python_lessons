import re

text = '''
Уважаемые сотрудники! 
Отчет за 2023 год: продажи выросли на 15%.
Контакты: info@company.com, +7 (495) 123-45-67.
Сайт: https://company.com. Не пропустите скидки!
'''

print(re.findall(r'https.+', text))

html_text = "<div>Первый</div> и <div>Второй</div>"
# Жадный поиск (по умолчанию) - находит максимально возможное совпадение
greedy_result = re.sub(r'<.*?>', '', html_text)
print("Жадный поиск:", greedy_result)  

text = """
Отчеты за 2021, 2022 и 2023 годы. 
Исторические данные: 1998, 2005, 2010, 2017.
Планы на 2024 и 2025 гг.
Случайные числа: 123, 89.
"""
# Ищем именно 4-значные года (а не любые числа)
years = re.findall(r'\d{4}', text) 
print(years)

#[abc] — любой из символов в скобках (a, b или c)
#[a-c] — диапазон
#[^abc] — любой символ, кроме тех, что в скобках

result = re.findall(r'\b[аеиоуыэюя]\w+', text.lower())
print(result) # ['отчеты', 'исторические']

text = """
IT-компании: IBM, AWS, GCP, OpenAI.
Сокращения: др., тыс., млн, стр.
Специальные термины: HTTP, JSON, API, CSV.
"""
# Ищем аббревиатуры из 2-4 заглавных букв
abbreviations = re.findall(r'\b[A-Z]{2,4}\b', text) # \b – граница слова
print(abbreviations)

text = "Hello! Привет! 123 Как дела? @username #tag"
# Удаляем всё, что не является кириллической буквой или пробелом
cyrillic_only = re.sub(r'[^а-яёА-ЯЁ\s]', '', text)
print(cyrillic_only)  #Привет  Как дела  

text = """
Цены: 100.50 руб, 200$ + 15% налог.
"""
# Поиск цен с десятичными дробями
prices = re.findall(r'\d+\.\d+', text)
print(prices) 

text = """
Цены: 100.50 руб, 200$ + 15% налог.
"""
# Поиск чисел с учетом дробей
numbers = re.findall(r'\d+\.\d+|\d+', text)
print(numbers) 

# Специальные символы
# \w — любая буква, цифра или нижнее подчеркивание ([a-zA-Z0-9_])
# \d — любая цифра ([0-9])
# \s — любой пробельный символ (пробел, табуляция, перенос)


text = "Привет!!! Это тестовый текст... Удалите все знаки препинания! И цифры 123."
# Задача: Удалить все знаки препинания и цифры, оставив только буквы и пробелы
# Ожидаемый результат: "Привет Это тестовый текст Удалите все знаки препинания И цифры"
print(re.findall(r'\w*[^.!,? ]\D', text))

text = "Контакты: ivan@mail.ru, petr-ivanov@company.com, info@site.org"
# Задача: Найти все email-адреса
# Ожидаемый результат: ['ivan@mail.ru', 'petr-ivanov@company.com', 'info@site.org']
print(re.findall(r'\w+@\w+\.\w+', text))


text = "Даты: 2024-01-15, 15.01.2024, 2024/01/20, неправильная 2024-13-45"
# Задача: Найти только валидные даты в формате ГГГГ-ММ-ДД
# Ожидаемый результат: ['2024-01-15']
print(re.findall(r'\d{4}-\d{2}-[01-31]', text))


text = "Пост в соцсети: #python #machinelearning @username1 @user_name2"
# Задача: Найти все хештеги
# Ожидаемый результат: 
# Хештеги: ['#python', '#machinelearning']
print(re.findall(r'#\w+', text))
print(re.findall(r'@\w+', text))

phones = "+7-912-345-67-89, 89123456789, +79123456789, 123, 81234567890"
# Задача: Найти только валидные российские номера (начинаются с +7 или 8, 11 цифр)
# Ожидаемый результат: ['+7-912-345-67-89', '89123456789', '+79123456789']
print(re.findall(r'(?:\+7|8)[\s\-\(]*\d{3}[\)\s\-]*\d{3}[\s\-]*\d{2}[\s\-]*\d{2}', phones))
#(?:\+7|8)[\s\-\(]*\d{3}[\)\s\-]*\d{3}[\s\-]*\d{2}[\s\-]*\d{2}

#---------
#Задача 7/10
text = "Цены: 100 руб, $50, 75.50 евро, 200₽, 300"
# Задача: Найти все цены с валютами (руб, $, евро, ₽)
# Ожидаемый результат: ['100 руб', '$50', '75.50 евро', '200₽']
print(re.findall(r'(?:\$)\d+|\d+(?:\ руб|\ евро|\₽)', text))
